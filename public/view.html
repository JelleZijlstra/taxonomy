<!DOCTYPE html>
<html>
<head>
	<title>View a taxon</title>
	<link rel="stylesheet" type="text/css" href="plugins/jquery-ui.css" />
	<link rel="stylesheet" type="text/css" href="plugins/jquery.contextMenu.css">
	<link rel="stylesheet" type="text/css" href="css/taxonomy.css">
	<script type="text/javascript" src="plugins/jquery.min.js"></script>
	<script type="text/javascript" src="plugins/jquery-ui.js"></script>
	<script type="text/javascript" src="plugins/jquery.contextMenu.js"></script>
	<script type="text/javascript" src="js/constants.js"></script>
	<script type="text/javascript" src="js/taxonomy.js"></script>
	<script type="text/javascript" src="js/uitools.js"></script>
	<script type="text/javascript">
		var show_taxon = function(taxon) {
			taxonomy.call_api('view', {taxon: taxon}, function(data) {
				var $result = $("#result-area");
				$result.empty();
				taxonomy.render_taxonomy(data, $result);
			});
		};
		$(function() {
			$("#input-taxon-submit").click(function() {
				var taxon = $("#input-taxon-field").val();
				show_taxon(taxon);
				return false;
			});
			var hash = window.location.hash;
			if(hash.length > 1) {
				show_taxon(hash.substr(1));
			} else {
				// default example taxon
				show_taxon('Gondwanatheria');
			}
			$("#save-button").click(function() { taxonomy.save_now(); });
		});
	</script>
</head>
<body>
<h1>Taxon view page</h1>
<div id="input-taxon">
<form>
	<p>Taxon to view: <input type="text" name="taxon" id="input-taxon-field"></p>
	<p><input type="submit" name="submit" id="input-taxon-submit" value="Submit"></p>
</form>
</div>
<button id="save-button">Save now</button>
<h2>Result</h2>
<div id="result-area"></div>
</body>
</html>
